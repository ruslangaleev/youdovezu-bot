# –ß–µ–∫-–ª–∏—Å—Ç: –£–ª—É—á—à–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ó–∞–¥–∞—á–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## 1. –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ–æ–Ω–∞ –∫ —Ç–µ–º–µ Telegram

### –ü—Ä–æ–±–ª–µ–º–∞
–¢–µ–∫—É—â–∏–π —Ñ–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç (`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`), –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã –≤ Telegram (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞ –∏–∑ —Ç–µ–º—ã Telegram, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã –≤ Telegram —Ñ–æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª—Å—è.

### –†–µ—à–µ–Ω–∏–µ

#### 1.1. App.css: –°–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã
- [ ] **–§–∞–π–ª**: `frontend/src/App.css`
- [ ] **–ú–µ—Å—Ç–æ**: –°—Ç–∏–ª–∏ –¥–ª—è `.app` (—Å—Ç—Ä–æ–∫–∞ ~2)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –£–±—Ä–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç `background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)`
  2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã Telegram
- [ ] **–ö–æ–¥**:
  ```css
  .app {
    min-height: 100vh;
    background: transparent; /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω - –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω —Ñ–æ–Ω Telegram */
    /* –ò–õ–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
    /* background: var(--tg-theme-bg-color, #ffffff); */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  }
  ```

#### 1.2. App.tsx: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ç–µ–º—ã Telegram
- [ ] **–§–∞–π–ª**: `frontend/src/App.tsx`
- [ ] **–ú–µ—Å—Ç–æ**: –í `useEffect` —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π Telegram WebApp (–ø–æ—Å–ª–µ `initTelegramWebApp()`)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –ü–æ–ª—É—á–∏—Ç—å `themeParams` –∏–∑ `window.Telegram.WebApp`
  2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã –≤ `document.documentElement.style`
  3. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `themeChanged` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã
- [ ] **–ö–æ–¥**:
  ```typescript
  useEffect(() => {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ...
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã Telegram
    if (window.Telegram?.WebApp) {
      const tg = window.Telegram.WebApp;
      const themeParams = tg.themeParams;
      
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã
      if (themeParams) {
        const root = document.documentElement;
        
        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞
        if (themeParams.bg_color) {
          root.style.setProperty('--tg-theme-bg-color', themeParams.bg_color);
        }
        if (themeParams.text_color) {
          root.style.setProperty('--tg-theme-text-color', themeParams.text_color);
        }
        if (themeParams.hint_color) {
          root.style.setProperty('--tg-theme-hint-color', themeParams.hint_color);
        }
        if (themeParams.link_color) {
          root.style.setProperty('--tg-theme-link-color', themeParams.link_color);
        }
        if (themeParams.button_color) {
          root.style.setProperty('--tg-theme-button-color', themeParams.button_color);
        }
        if (themeParams.button_text_color) {
          root.style.setProperty('--tg-theme-button-text-color', themeParams.button_text_color);
        }
        if (themeParams.secondary_bg_color) {
          root.style.setProperty('--tg-theme-secondary-bg-color', themeParams.secondary_bg_color);
        }
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ —Ç–µ–º—ã
        root.style.setProperty('--app-bg-color', themeParams.bg_color || 'transparent');
      }
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
      tg.onEvent('themeChanged', () => {
        const updatedThemeParams = tg.themeParams;
        if (updatedThemeParams) {
          const root = document.documentElement;
          if (updatedThemeParams.bg_color) {
            root.style.setProperty('--tg-theme-bg-color', updatedThemeParams.bg_color);
            root.style.setProperty('--app-bg-color', updatedThemeParams.bg_color);
          }
          // –û–±–Ω–æ–≤–ª—è–µ–º –¥—Ä—É–≥–∏–µ —Ü–≤–µ—Ç–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
        }
      });
    }
  }, []);
  ```

#### 1.3. App.css: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ–Ω–∞
- [ ] **–§–∞–π–ª**: `frontend/src/App.css`
- [ ] **–ú–µ—Å—Ç–æ**: –°—Ç–∏–ª–∏ –¥–ª—è `.app`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `--app-bg-color` –¥–ª—è —Ñ–æ–Ω–∞
- [ ] **–ö–æ–¥**:
  ```css
  .app {
    min-height: 100vh;
    background: var(--app-bg-color, transparent);
    /* Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ Telegram WebApp */
    background: var(--app-bg-color, var(--tg-theme-bg-color, transparent));
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  }
  ```

#### 1.4. App.css: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- [ ] **–§–∞–π–ª**: `frontend/src/App.css`
- [ ] **–ú–µ—Å—Ç–æ**: –°—Ç–∏–ª–∏ –¥–ª—è `.main-menu`, `.page-container`, `.registration-required`, `.error` –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–º–µ—é—Ç –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∏–ª–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
  2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–∞ –∏–∑ —Ç–µ–º—ã –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ —Ñ–æ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [ ] **–ö–æ–¥** (–ø—Ä–∏–º–µ—Ä –¥–ª—è `.main-menu`):
  ```css
  .main-menu {
    background: var(--tg-theme-secondary-bg-color, rgba(255, 255, 255, 0.95));
    /* –î–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å rgba —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é */
    color: var(--tg-theme-text-color, #333);
    border-radius: 16px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }
  ```

#### 1.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
- [ ] **–§–∞–π–ª**: `frontend/src/App.tsx` –∏–ª–∏ `frontend/src/types/telegram.ts` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∏–ø `themeParams` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- [ ] **–ö–æ–¥** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã):
  ```typescript
  interface TelegramThemeParams {
    bg_color?: string;
    text_color?: string;
    hint_color?: string;
    link_color?: string;
    button_color?: string;
    button_text_color?: string;
    secondary_bg_color?: string;
  }
  
  // –í Window interface:
  themeParams: TelegramThemeParams;
  onEvent: (event: string, callback: () => void) => void;
  ```

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ 1

1. ‚úÖ **–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ —Ç–µ–º—ã Telegram –≤ `App.tsx`
2. ‚úÖ **–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ `.app` –≤ `App.css` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ —Ñ–æ–Ω–∞ –∏–ª–∏ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. ‚úÖ **–®–∞–≥ 3**: –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã
4. ‚úÖ **–®–∞–≥ 4**: –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `themeChanged` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. ‚úÖ **–®–∞–≥ 5**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
   - –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Telegram (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–æ–Ω –∏ —Ü–≤–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ó–∞–¥–∞—á–∞ 1)

1. `frontend/src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `themeChanged`
2. `frontend/src/App.css` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ —Ñ–æ–Ω–∞ –∏ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. `frontend/src/types/telegram.ts` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) - –¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è `TelegramThemeParams`

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ó–∞–¥–∞—á–∞ 1)

### –°—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–æ–Ω –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç —Ç–µ–º—ã Telegram
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram ‚Üí –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –§–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤–æ–π —Ç–µ–º–æ–π
   - –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ç–µ–º–µ
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Telegram WebApp API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `themeParams` —Å —Ü–≤–µ—Ç–∞–º–∏ —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
- –°–æ–±—ã—Ç–∏–µ `themeChanged` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Telegram
- CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –î–ª—è fallback –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ Telegram WebApp

---

## 2. –£–¥–∞–ª–µ–Ω–∏–µ —Å–º–∞–π–ª–∏–∫–æ–≤ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü—Ä–æ–±–ª–µ–º–∞
–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º–æ–¥–∑–∏/—Å–º–∞–π–ª–∏–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö, –∫–Ω–æ–ø–∫–∞—Ö –∏ —Ç–µ–∫—Å—Ç–µ, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ
–£–±—Ä–∞—Ç—å –≤—Å–µ —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∑–∞–º–µ–Ω–∏–≤ –∏—Ö –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –º–µ—Ç–∫–∏ –∏–ª–∏ –∏–∫–æ–Ω–∫–∏ (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ).

### –†–µ—à–µ–Ω–∏–µ

#### 2.1. App.tsx: –£–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Ç–µ–∫—Å—Ç–∞
- [ ] **–§–∞–π–ª**: `frontend/src/App.tsx`
- [ ] **–ú–µ—Å—Ç–æ**: –í—Å–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (`<h1>`, `<h2>`, `<h3>`), –∫–Ω–æ–ø–∫–∏ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–º–∞–π–ª–∏–∫–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ
  2. –ó–∞–º–µ–Ω–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –º–µ—Ç–∫–∏ –∏–ª–∏ —É–±—Ä–∞—Ç—å –∏—Ö
  3. –ü—Ä–∏–º–µ—Ä—ã –∑–∞–º–µ–Ω—ã:
     - `üöó` ‚Üí —É–±—Ä–∞—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ "YouDovezu"
     - `üîç –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏` ‚Üí `–ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏`
     - `üìã –û–±—ä—è–≤–ª–µ–Ω–∏—è` ‚Üí `–û–±—ä—è–≤–ª–µ–Ω–∏—è`
     - `üí∞ –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–µ–Ω—É` ‚Üí `–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–µ–Ω—É`
     - `‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ` ‚Üí `–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ`
     - `‚ùå –û—à–∏–±–∫–∞` ‚Üí `–û—à–∏–±–∫–∞`
     - `üîÑ –û–±–Ω–æ–≤–∏—Ç—å` ‚Üí `–û–±–Ω–æ–≤–∏—Ç—å`
     - `‚ûï –ù–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞` ‚Üí `–ù–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞`
     - `‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å` ‚Üí `–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å`
     - `üóëÔ∏è –£–¥–∞–ª–∏—Ç—å` ‚Üí `–£–¥–∞–ª–∏—Ç—å`
     - `üìç –û—Ç–∫—É–¥–∞` ‚Üí `–û—Ç–∫—É–¥–∞`
     - `üó∫Ô∏è –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ` ‚Üí `–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ`
     - `üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π` ‚Üí `–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π`
     - `üë§ Requester` ‚Üí `Requester`
     - `üìÖ –î–∞—Ç–∞` ‚Üí `–î–∞—Ç–∞`
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞**:
  ```typescript
  // –ë—ã–ª–æ:
  <h1>üîç –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏</h1>
  <button>üí∞ –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–µ–Ω—É</button>
  <h3>üìç –û—Ç–∫—É–¥–∞</h3>
  
  // –°—Ç–∞–ª–æ:
  <h1>–ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏</h1>
  <button>–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ü–µ–Ω—É</button>
  <h3>–û—Ç–∫—É–¥–∞</h3>
  ```

#### 2.2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –£–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] **–§–∞–π–ª—ã**: 
  - `frontend/src/components/CreateTrip.tsx`
  - `frontend/src/components/EditTrip.tsx`
  - `frontend/src/components/UploadDocuments.tsx`
  - `frontend/src/components/DocumentVerification.tsx`
  - `frontend/src/components/ModerationList.tsx`
  - `frontend/src/components/ModerationDetail.tsx`
  - `frontend/src/components/RegistrationRequired.tsx`
  - `frontend/src/components/MainMenu.tsx` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 2.3. App.css: –£–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] **–§–∞–π–ª**: `frontend/src/App.css`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∏–∫–æ–≤ –≤ `::before` –∏ `::after` –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞—Ö, —É–¥–∞–ª–∏—Ç—å –∏—Ö

#### 2.4. –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º –≤ `frontend/src`:
  ```bash
  # –ù–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å —ç–º–æ–¥–∑–∏
  grep -r "üöó\|üîç\|üìã\|üí∞\|‚úÖ\|‚ùå\|‚ö†Ô∏è\|üì±\|üéâ\|üìç\|üì≠\|üó∫Ô∏è\|üí¨\|üë§\|üìÖ\|üîÑ\|‚ûï\|‚úèÔ∏è\|üóëÔ∏è\|üåê\|üöô\|üìé\|üìÅ" frontend/src/
  ```
- [ ] **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∏ –º–µ—Å—Ç, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–º–∞–π–ª–∏–∫–∏

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ 2

1. ‚úÖ **–®–∞–≥ 1**: –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –≤—Å–µ—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ (2.4)
2. ‚úÖ **–®–∞–≥ 2**: –£–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ `App.tsx` (2.1)
3. ‚úÖ **–®–∞–≥ 3**: –£–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (2.2)
4. ‚úÖ **–®–∞–≥ 4**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ CSS (2.3)
5. ‚úÖ **–®–∞–≥ 5**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Å–º–∞–π–ª–∏–∫–∏ —É–¥–∞–ª–µ–Ω—ã
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ó–∞–¥–∞—á–∞ 2)

1. `frontend/src/App.tsx` - —É–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –≤—Å–µ—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∫–Ω–æ–ø–æ–∫ –∏ —Ç–µ–∫—Å—Ç–∞
2. `frontend/src/components/*.tsx` - —É–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. `frontend/src/App.css` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ —Å—Ç–∏–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ó–∞–¥–∞—á–∞ 2)

### –°—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –ù–µ—Ç —Å–º–∞–π–ª–∏–∫–æ–≤ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö, –∫–Ω–æ–ø–∫–∞—Ö –∏ —Ç–µ–∫—Å—Ç–µ
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ
   - –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –¢–µ–∫—Å—Ç —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (–ó–∞–¥–∞—á–∞ 2)

- –°–º–∞–π–ª–∏–∫–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- –£–¥–∞–ª–µ–Ω–∏–µ —Å–º–∞–π–ª–∏–∫–æ–≤ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ–ª–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ CSS –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∫–æ–Ω–æ–∫ (Font Awesome, Material Icons –∏ —Ç.–¥.)

---

## 3. –ó–∞–º–µ–Ω–∞ –∫–Ω–æ–ø–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ Main Button –æ—Ç Telegram

### –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—ã—á–Ω—ã–µ HTML-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –í Telegram WebApp –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é Main Button, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –∏ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ
1. –ó–∞–º–µ–Ω–∏—Ç—å –∫–Ω–æ–ø–∫–∏ "–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É" –∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" –Ω–∞ Main Button –æ—Ç Telegram
2. Main Button –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:
   - –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
   - –ü—Ä–æ–∏–∑–æ—à–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
3. Main Button –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (submitting)

### –†–µ—à–µ–Ω–∏–µ

#### 3.1. CreateTrip.tsx: –ó–∞–º–µ–Ω–∏—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞ Main Button
- [ ] **–§–∞–π–ª**: `frontend/src/components/CreateTrip.tsx`
- [ ] **–ú–µ—Å—Ç–æ**: –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É "üöô –°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É" (—Å—Ç—Ä–æ–∫–∞ ~239)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –î–æ–±–∞–≤–∏—Ç—å `useEffect` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Main Button
  2. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å Main Button —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞
  3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É"
  4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫ –ø–æ Main Button –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  5. –°–∫—Ä—ã–≤–∞—Ç—å Main Button –ø—Ä–∏ —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] **–ö–æ–¥**:
  ```typescript
  useEffect(() => {
    if (!isTelegramWebApp || !window.Telegram?.WebApp) {
      return;
    }

    const tg = window.Telegram.WebApp;
    const mainButton = tg.MainButton;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º—ã
    const isFormValid = 
      fromSettlement.trim() !== '' &&
      toSettlement.trim() !== '' &&
      fromAddress.trim() !== '' &&
      toAddress.trim() !== '' &&
      fromAddressSelected &&
      toAddressSelected;

    if (isFormValid && !creatingTrip) {
      mainButton.setText('–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É');
      mainButton.onClick(handleSubmitCreateTrip);
      mainButton.show();
    } else {
      mainButton.hide();
    }

    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    return () => {
      mainButton.hide();
      mainButton.offClick(handleSubmitCreateTrip);
    };
  }, [fromSettlement, toSettlement, fromAddress, toAddress, fromAddressSelected, toAddressSelected, creatingTrip, isTelegramWebApp, handleSubmitCreateTrip]);
  ```

#### 3.2. EditTrip.tsx: –ó–∞–º–µ–Ω–∏—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞ Main Button
- [ ] **–§–∞–π–ª**: `frontend/src/components/EditTrip.tsx`
- [ ] **–ú–µ—Å—Ç–æ**: –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" (—Å—Ç—Ä–æ–∫–∞ ~241)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –î–æ–±–∞–≤–∏—Ç—å `useEffect` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Main Button
  2. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ (—Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
  3. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å Main Button —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞ –≤–∞–ª–∏–¥–Ω–∞
  4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"
  5. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫ –ø–æ Main Button –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  6. –°–∫—Ä—ã–≤–∞—Ç—å Main Button –ø—Ä–∏ —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] **–ö–æ–¥**:
  ```typescript
  // –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
  const [initialValues, setInitialValues] = useState({
    fromSettlement: '',
    toSettlement: '',
    fromAddress: '',
    toAddress: '',
    comment: ''
  });

  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  useEffect(() => {
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å initialValues
    // ...
  }, [tripId]);

  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Main Button
  useEffect(() => {
    if (!isTelegramWebApp || !window.Telegram?.WebApp) {
      return;
    }

    const tg = window.Telegram.WebApp;
    const mainButton = tg.MainButton;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º—ã
    const isFormValid = 
      fromSettlement.trim() !== '' &&
      toSettlement.trim() !== '' &&
      fromAddress.trim() !== '' &&
      toAddress.trim() !== '' &&
      fromAddressSelected &&
      toAddressSelected;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–∏ –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    const hasChanges = 
      fromSettlement !== initialValues.fromSettlement ||
      toSettlement !== initialValues.toSettlement ||
      fromAddress !== initialValues.fromAddress ||
      toAddress !== initialValues.toAddress ||
      comment !== initialValues.comment;

    if (isFormValid && hasChanges && !updatingTrip) {
      mainButton.setText('–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è');
      mainButton.onClick(handleSubmitUpdateTrip);
      mainButton.show();
    } else {
      mainButton.hide();
    }

    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    return () => {
      mainButton.hide();
      mainButton.offClick(handleSubmitUpdateTrip);
    };
  }, [fromSettlement, toSettlement, fromAddress, toAddress, fromAddressSelected, toAddressSelected, comment, initialValues, updatingTrip, isTelegramWebApp, handleSubmitUpdateTrip]);
  ```

#### 3.3. App.tsx: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Main Button —Å–∫—Ä—ã—Ç–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- [ ] **–§–∞–π–ª**: `frontend/src/App.tsx`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: 
  1. –î–æ–±–∞–≤–∏—Ç—å `useEffect`, –∫–æ—Ç–æ—Ä—ã–π —Å–∫—Ä—ã–≤–∞–µ—Ç Main Button –ø—Ä–∏ —Å–º–µ–Ω–µ `currentView`
  2. –°–∫—Ä—ã–≤–∞—Ç—å Main Button –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –∫—Ä–æ–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏
- [ ] **–ö–æ–¥**:
  ```typescript
  useEffect(() => {
    if (!isTelegramWebApp || !window.Telegram?.WebApp) {
      return;
    }

    const tg = window.Telegram.WebApp;
    const mainButton = tg.MainButton;

    // –°–∫—Ä—ã–≤–∞–µ–º Main Button –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –∫—Ä–æ–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    if (currentView !== 'create-trip' && currentView !== 'edit-trip') {
      mainButton.hide();
    }
  }, [currentView, isTelegramWebApp]);
  ```

#### 3.4. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã TypeScript –¥–ª—è MainButton
- [ ] **–§–∞–π–ª**: `frontend/src/App.tsx` –∏–ª–∏ `frontend/src/types/telegram.ts`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è MainButton API
- [ ] **–ö–æ–¥**:
  ```typescript
  interface TelegramMainButton {
    text: string;
    color: string;
    textColor: string;
    isVisible: boolean;
    isActive: boolean;
    isProgressVisible: boolean;
    setText: (text: string) => void;
    onClick: (callback: () => void) => void;
    offClick: (callback: () => void) => void;
    show: () => void;
    hide: () => void;
    enable: () => void;
    disable: () => void;
    showProgress: (leaveActive?: boolean) => void;
    hideProgress: () => void;
    setParams: (params: { text?: string; color?: string; text_color?: string; is_active?: boolean; is_visible?: boolean }) => void;
  }

  // –í Window interface:
  MainButton: TelegramMainButton;
  ```

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ 3

1. ‚úÖ **–®–∞–≥ 1**: –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã TypeScript –¥–ª—è MainButton (3.4)
2. ‚úÖ **–®–∞–≥ 2**: –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Main Button –≤ `CreateTrip.tsx` (3.1)
3. ‚úÖ **–®–∞–≥ 3**: –î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Main Button –≤ `EditTrip.tsx` (3.2)
4. ‚úÖ **–®–∞–≥ 4**: –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä—ã—Ç–∏–µ Main Button –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –≤ `App.tsx` (3.3)
5. ‚úÖ **–®–∞–≥ 5**: –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ HTML-–∫–Ω–æ–ø–∫–∏ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
6. ‚úÖ **–®–∞–≥ 6**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Main Button –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∞–ª–∏–¥–Ω–æ–π —Ñ–æ—Ä–º–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Main Button –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Main Button —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ó–∞–¥–∞—á–∞ 3)

1. `frontend/src/components/CreateTrip.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Main Button, —É–¥–∞–ª–∏—Ç—å HTML-–∫–Ω–æ–ø–∫—É
2. `frontend/src/components/EditTrip.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Main Button, —É–¥–∞–ª–∏—Ç—å HTML-–∫–Ω–æ–ø–∫—É
3. `frontend/src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä—ã—Ç–∏–µ Main Button –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
4. `frontend/src/types/telegram.ts` (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) –∏–ª–∏ `frontend/src/App.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è MainButton

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ó–∞–¥–∞—á–∞ 3)

### –°—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏):
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Main Button –Ω–µ –≤–∏–¥–Ω–∞ (—Ñ–æ—Ä–º–∞ –ø—É—Å—Ç–∞—è)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã, –∞–¥—Ä–µ—Å–∞)
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Main Button –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å —Ç–µ–∫—Å—Ç–æ–º "–°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É"
5. –ù–∞–∂–∞—Ç—å Main Button
6. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–µ–∑–¥–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è, Main Button —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏):
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Main Button –Ω–µ –≤–∏–¥–Ω–∞ (–Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)
3. –ò–∑–º–µ–Ω–∏—Ç—å –ª—é–±–æ–µ –ø–æ–ª–µ
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Main Button –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å —Ç–µ–∫—Å—Ç–æ–º "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"
5. –í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ (–æ—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ)
6. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Main Button —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
7. –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª–µ —Å–Ω–æ–≤–∞ –∏ –Ω–∞–∂–∞—Ç—å Main Button
8. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, Main Button —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (–ó–∞–¥–∞—á–∞ 3)

- Main Button –æ—Ç Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–µ–º–µ (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
- Main Button –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞, —á—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ù—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ EditTrip –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–ª–∏ —Ñ–ª–∞–≥ `isDirty`

---

## –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

*–ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏*

